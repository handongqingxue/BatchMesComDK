<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.batchMesComDK.dao.BHBatchHisMapper">
	<select id="getMaterialListByWOIDList" resultType="com.batchMesComDK.entity.BHBatchHis">
		select his.*,wo.WorkOrderID WorkOrderID,rPM.CName CName from [BatchHistoryEx].[dbo].[BHBatchHis] his,WorkOrder wo,RecipePM rPM
		 where his.BatchID=wo.FormulaId and his.MaterialID=rPM.PMCode and his.MaterialName=rPM.PMName
		<foreach collection="workOrderIDList" item="workOrderID" open=" and cast(wo.WorkOrderID as char) in (" separator="," close=")">
		#{workOrderID}
		</foreach>
		 and his.Descript='ADDED_AMOUNT' and his.Event='report'
	</select>
</mapper>