<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.batchMesComDK.dao.ManFeedMapper">
	<insert id="add" parameterType="com.batchMesComDK.entity.ManFeed">
		insert into ManFeed
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="ID!=null">
				ID,
			</if>
			<if test="WorkOrderID!=null">
				WorkOrderID,
			</if>
			<if test="MaterialCode!=null">
				MaterialCode,
			</if>
			<if test="MaterialName!=null">
				MaterialName,
			</if>
			<if test="Suttle!=null">
				Suttle,
			</if>
			<if test="Unit!=null">
				Unit,
			</if>
			<if test="FeedTime!=null">
				FeedTime,
			</if>
			<if test="FeedPort!=null">
				FeedPort,
			</if>
				MarkBit
		</trim>
		values
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="ID!=null">
				#{ID},
			</if>
			<if test="WorkOrderID!=null">
				#{WorkOrderID},
			</if>
			<if test="MaterialCode!=null">
				#{MaterialCode},
			</if>
			<if test="MaterialName!=null">
				#{MaterialName},
			</if>
			<if test="Suttle!=null">
				#{Suttle},
			</if>
			<if test="Unit!=null">
				#{Unit},
			</if>
			<if test="FeedTime!=null">
				#{FeedTime},
			</if>
			<if test="FeedPort!=null">
				#{FeedPort},
			</if>
				0
		</trim>
	</insert>
	<delete id="deleteByList">
		delete from ManFeed where 1=1
		<foreach collection="idList" item="id" open=" and cast(id as char) in (" separator="," close=")">
		#{id}
		</foreach>
	</delete>
	<update id="editByWorkOrderIDFeedPort" parameterType="com.batchMesComDK.entity.ManFeed">
		update ManFeed set 
		<trim suffixOverrides=",">
			<if test="suttle!=null">
				suttle=#{suttle},
			</if>
			<if test="unit!=null">
				unit=#{unit},
			</if>
			<if test="feedTime!=null">
				feedTime=#{feedTime},
			</if>
				MarkBit=${@com.batchMesComDK.entity.ManFeed@YJS}
		</trim>
		 where WorkOrderID=#{workOrderID} and FeedPort=#{feedPort} and materialCode=#{materialCode} and materialName=#{materialName} and MarkBit=${@com.batchMesComDK.entity.ManFeed@WJS}
	</update>
	<select id="getByWorkOrderIDFeedPort" resultType="com.batchMesComDK.entity.ManFeed">
		select * from ManFeed where WorkOrderID=#{workOrderID} and FeedPort=#{feedPort} and MarkBit=0
	</select>
</mapper>